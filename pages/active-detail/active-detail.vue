<template>
	<view class="page">

		<!-- æ´»åŠ¨å°é¢ -->
		<view class="event-cover">
			<text class="event-cover-text">åˆ›ä¸šè€…äº¤æµä¼š Â· èµ„æºå…±äº« Â· ç»éªŒåˆ†äº«</text>
		</view>

		<!-- æ´»åŠ¨ä¿¡æ¯ -->
		<view class="event-header">
			<text class="event-title">äº’è”ç½‘åˆ›ä¸šè€…äº¤æµä¼š</text>
			<view class="event-meta">
				<uni-icons type="calendar" size="18" color="#FF6B00" /><text>2025-06-15 14:00-17:00</text>
			</view>
			<view class="event-meta">
				<uni-icons type="location" size="18" color="#FF6B00" /><text>ä¸Šæµ·å¸‚æµ¦ä¸œæ–°åŒºå¼ æ±Ÿé«˜ç§‘æŠ€å›­åŒº</text>
			</view>
			<view class="event-stats">
				<view class="stat-item">
					<view class="stat-value">32</view>
					<view class="stat-label">å·²æŠ¥å</view>
				</view>
				<view class="stat-item">
					<view class="stat-value">50</view>
					<view class="stat-label">æ€»åé¢</view>
				</view>
				<view class="stat-item">
					<view class="stat-value">100</view>
					<view class="stat-label">æŠ¥åè´¹</view>
				</view>
			</view>
		</view>

		<!-- æ´»åŠ¨ä»‹ç» -->
		<view class="event-content">
			<view class="section-title">æ´»åŠ¨ä»‹ç»</view>
			<view class="event-description">
				æœ¬æ¬¡äº’è”ç½‘åˆ›ä¸šè€…äº¤æµä¼šæ—¨åœ¨ä¸ºè¡Œä¸šå†…çš„åˆ›ä¸šè€…æä¾›ä¸€ä¸ªäº¤æµæ€æƒ³ã€åˆ†äº«ç»éªŒçš„å¹³å°ã€‚æ´»åŠ¨å°†é‚€è¯·å¤šä½æˆåŠŸåˆ›ä¸šè€…åˆ†äº«ä»–ä»¬çš„åˆ›ä¸šå†ç¨‹ã€ç»éªŒæ•™è®­ä»¥åŠå¯¹æœªæ¥è¶‹åŠ¿çš„æ´å¯Ÿã€‚å‚ä¸è€…å°†æœ‰æœºä¼šä¸è¡Œä¸šä¸“å®¶é¢å¯¹é¢äº¤æµï¼Œæ‹“å±•äººè„‰èµ„æºï¼Œå¯»æ‰¾æ½œåœ¨åˆä½œä¼™ä¼´ã€‚
				æ´»åŠ¨å°†æ¶µç›–å¤šä¸ªä¸»é¢˜ï¼ŒåŒ…æ‹¬äº§å“åˆ›æ–°ã€å¸‚åœºæ‹“å±•ã€èèµ„ç­–ç•¥ç­‰ã€‚æ— è®ºæ‚¨æ˜¯åˆåˆ›ä¼ä¸šåˆ›å§‹äººï¼Œè¿˜æ˜¯å‡†å¤‡åˆ›ä¸šçš„è¡Œä¸šæ–°äººï¼Œéƒ½èƒ½ä»æœ¬æ¬¡æ´»åŠ¨ä¸­è·å¾—å¯å‘å’Œä»·å€¼ã€‚
			</view>

			<text class="section-title">æ´»åŠ¨å†…å®¹</text>
			<view class="activity-grid">
				<view class="activity-item" v-for="(item, index) in activities" :key="index">
					<!-- <view class="activity-icon">
            <uni-icons :type="item.icon" size="20" color="#fff" />
          </view> -->
					<view class="activity-title">{{ item.title }}</view>
					<view class="activity-desc">{{ item.desc }}</view>
				</view>
			</view>
		</view>

		<!-- ä¸»åŠæ–¹ -->
		<view class="organizer-section">
			<view class="organizer-title">æ´»åŠ¨ç»„ç»‡è€…</view>
			<view class="organizer-info">
				<view class="organizer-avatar">
					<uni-icons type="person-filled" size="24" color="#fff" />
				</view>
				<view>
					<view class="organizer-name">å¼ ç»ç†</view>
					<view class="organizer-company">åˆ›æ–°ç§‘æŠ€æ´»åŠ¨ç­–åˆ’éƒ¨</view>
				</view>
			</view>
		</view>


		<!-- å•†åœˆä¿¡æ¯ -->
		<view class="business-section">
			<view class="business-title">æ´»åŠ¨èšåº—</view>
			<view class="business-info">
				<view class="business-logo">
					<uni-icons type="shop-filled" size="24" color="#fff" />
				</view>
				<view class="business-details">
					<text class="business-name">åˆ›å®¢ç©ºé—´å’–å•¡å…</text>
					<view class="business-meta">
						<view style="font-size: 25rpx;margin: 10rpx 0;">ğŸ“ å¼ æ±Ÿé«˜ç§‘æŠ€å›­åŒº88å·</view>
						<view style="font-size: 25rpx;margin: 10rpx 0;">ğŸ“ 021-68881234</view>
						<view style="font-size: 25rpx;margin: 10rpx 0;">ğŸ•’ 09:00-22:00 (æ¯æ—¥è¥ä¸š)</view>
					</view>
				</view>
			</view>
		</view>

		<!-- æ´»åŠ¨è´¡åˆ† -->
		<view class="organizer-section">
			<view class="organizer-title">æ´»åŠ¨è´¡åˆ†</view>
			<view class="organizer-info">
				<view class="organizer-name">å‚ä¸æœ¬æ¬¡æ´»åŠ¨ï¼Œæ´»åŠ¨ç»“æŸå¯ä»¥è·å¾—<span style="color: #ff6b00;">10</span>è´¡åˆ†</view>
			</view>
		</view>


		<!-- å‚ä¸ç”¨æˆ·å¤´åƒç»„ -->
		<view class="participants-section">
			<view class="participants-header">
				<view class="participants-title">å‚ä¸ç”¨æˆ·</view>
				<view class="view-all-link" @click="viewAllUsers">æŸ¥çœ‹å…¨éƒ¨ ></view>
			</view>
			<view class="participants-body">
				<view class="avatar-group">
					<image v-for="(avatar, index) in avatars" :key="index" :src="avatar" class="avatar-item" />
					<view class="avatar-item more-avatars">+28</view>
				</view>
				<text class="total-registered-info">
					<text class="registered-count">32</text> äººå·²æŠ¥å
				</text>
			</view>
		</view>
		
		<view style="margin: 20rpx auto;flex: 1; text-align: center;">æŠ¥åæˆªæ­¢æ—¶é—´ï¼š<span style="color: #ff1a3c;">2025-6-30 13:45:00</span></view>

		<!-- æ“ä½œæ  -->
		<view class="action-bar">
			<view class="action-btn share-btn" @click="share">
				<text> ğŸ”—åˆ†äº«</text>
			</view>
			<view class="action-btn register-btn" @click="register">
				<text> â•ç«‹å³æŠ¥å</text>
			</view>
		</view>
	</view>
</template>

<script setup>
	import {
		ref
	} from 'vue'
	import {
		onLoad
	} from '@dcloudio/uni-app'

	const avatars = [
		'https://randomuser.me/api/portraits/women/1.jpg',
		'https://randomuser.me/api/portraits/men/2.jpg',
		'https://randomuser.me/api/portraits/women/3.jpg',
		'https://randomuser.me/api/portraits/men/4.jpg'
	]

	const activities = [{
			icon: 'sound',
			title: 'ä¸»é¢˜æ¼”è®²',
			desc: 'è¡Œä¸šå¤§å’–åˆ†äº«åˆ›ä¸šç»éªŒ'
		},
		{
			icon: 'group',
			title: 'åœ†æ¡Œè®ºå›',
			desc: 'åˆ›ä¸šè€…äº’åŠ¨è®¨è®º'
		},
		{
			icon: 'person',
			title: 'è‡ªç”±äº¤æµ',
			desc: 'æ‹“å±•äººè„‰èµ„æº'
		},
		{
			icon: 'coffee',
			title: 'èŒ¶æ­‡æ—¶é—´',
			desc: 'ç²¾è‡´èŒ¶ç‚¹ä¸é¥®å“'
		}
	]


	function share() {
		uni.showToast({
			title: 'å·²åˆ†äº«åˆ°å¾®ä¿¡æœ‹å‹åœˆ',
			icon: 'none'
		})
	}

	function register() {
		uni.navigateTo({
		  url:'/pages/active-enroll/active-enroll'
		})
	}

	function viewAllUsers() {
		uni.showToast({
			title: 'æŸ¥çœ‹å…¨éƒ¨å‚ä¸ç”¨æˆ·',
			icon: 'none'
		})
	}
</script>

<style lang="scss" scoped>
	.page {
		padding-bottom: 120rpx;
		background-color: #f8f8f8;
	}

	.top-nav {
		background: linear-gradient(135deg, #FF8C00, #FF6B00);
		color: white;
		display: flex;
		align-items: center;
		padding: 30rpx 20rpx;
		font-size: 32rpx;
		position: sticky;
		top: 0;
		z-index: 100;
	}

	.page-title {
		flex: 1;
		text-align: center;
		font-weight: bold;
	}

	.event-cover {
		height: 400rpx;
		background: linear-gradient(45deg, #ff9a9e, #fad0c4);
		display: flex;
		align-items: center;
		justify-content: center;
		color: white;
		font-size: 36rpx;
		font-weight: bold;
		text-align: center;
		padding: 20rpx;
	}

	.event-header,
	.event-content,
	.organizer-section,
	.business-section,
	.participants-section {
		background: #fff;
		margin: 30rpx;
		padding: 30rpx;
		border-radius: 20rpx;
		box-shadow: 0 10rpx 20rpx rgba(0, 0, 0, 0.05);
	}
	
	.participants-header{
		display: flex;
		justify-content: space-between;
		margin-bottom: 10rpx;
		
		.view-all-link{
			font-size: 24rpx;
			color: #3a7bd5;
			cursor: pointer;
		}
	}

	.event-title {
		font-size: 36rpx;
		font-weight: bold;
		margin-bottom: 20rpx;
	}

	.event-meta {
		display: flex;
		align-items: center;
		font-size: 26rpx;
		color: #666;
		margin: 10rpx;
		gap: 10rpx;
	}

	.event-stats {
		display: flex;
		justify-content: space-between;
		margin-top: 20rpx;
	}

	.stat-item {
		flex: 1;
		text-align: center;
	}

	.stat-value {
		font-size: 32rpx;
		color: #FF6B00;
		font-weight: bold;
	}

	.stat-label {
		font-size: 24rpx;
		color: #888;
	}

	.section-title {
		font-size: 32rpx;
		font-weight: bold;
		margin: 30rpx 0 20rpx;
		border-left: 10rpx solid #FF6B00;
		padding-left: 20rpx;
	}

	.event-description {
		font-size: 28rpx;
		color: #555;
		line-height: 1.8;
		margin-bottom: 20rpx;
	}

	.activity-grid {
		display: grid;
		grid-template-columns: 1fr 1fr;
		gap: 30rpx;
		margin-top: 20rpx;
	}

	.activity-item {
		background: #f9f9f9;
		border-radius: 20rpx;
		padding: 30rpx;
		text-align: center;
	}

	.activity-icon {
		width: 80rpx;
		height: 80rpx;
		background: #FF6B00;
		border-radius: 50%;
		display: flex;
		align-items: center;
		justify-content: center;
		margin: 0 auto 20rpx;
	}

	.activity-title {
		color: #FF6B00;
		font-weight: bold;
		font-size: 32rpx;
		margin-bottom: 10rpx;
	}

	.activity-desc {
		font-size: 24rpx;
		color: #666;
	}
	
	.organizer-title,
	.business-title,
	.participants-title{
		font-weight: bold;
		margin-bottom: 20rpx;
	}

	.organizer-info,
	.business-info,
	.participants-body {
		display: flex;
		align-items: center;
		gap: 20rpx;
	}

	.organizer-avatar,
	.business-logo {
		width: 100rpx;
		height: 100rpx;
		background: linear-gradient(45deg, #ffb347, #ffcc33);
		border-radius: 50%;
		display: flex;
		align-items: center;
		justify-content: center;
	}

	.organizer-name,
	.business-name {
		font-weight: bold;
		font-size: 28rpx;
	}

	.organizer-company,
	.business-meta text {
		font-size: 24rpx;
		color: #666;
	}

	.avatar-group {
		display: flex;
		position: relative;
	}

	.avatar-item {
		width: 60rpx;
		height: 60rpx;
		border-radius: 50%;
		border: 4rpx solid #fff;
		box-shadow: 0 2rpx 5rpx rgba(0, 0, 0, 0.1);
		object-fit: cover;
		margin-left: -20rpx;
		background: #f0f0f0;
	}

	.more-avatars {
		background: #FF6B00;
		color: #fff;
		display: flex;
		align-items: center;
		justify-content: center;
		font-weight: bold;
	}

	.total-registered-info {
		font-size: 26rpx;
		color: #666;
	}

	.registered-count {
		color: #FF6B00;
		font-weight: bold;
	}

	.action-bar {
		position: fixed;
		bottom: 0;
		left: 0;
		right: 0;
		background: #fff;
		display: flex;
		padding: 20rpx;
		box-shadow: 0 -5rpx 10rpx rgba(0, 0, 0, 0.05);
		z-index: 100;
	}

	.action-btn {
		flex: 1;
		padding: 24rpx;
		margin: 0 10rpx;
		text-align: center;
		border-radius: 16rpx;
		font-weight: bold;
	}

	.share-btn {
		background: #f0f0f0;
		color: #333;
	}

	.register-btn {
		background: linear-gradient(to right, #FF8C00, #FF6B00);
		color: #fff;
	}
</style>